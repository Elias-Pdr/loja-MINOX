<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>checkout</title>
    <link rel="stylesheet" href="style_checkout.css">
</head>
<body onload="setup()">
    <header>
        <div id="promocao">
            <img alt="seguro" src="https://img.mycartpanda.com/unsafe/https://assets.mycartpanda.com/296914/5421/assets/Icon.svg">
            <p style="color: white;"><strong>Pagamento seguro</strong></p>
        </div>
    </header>

    <main>
        <div id="container_left">
            <div>
                <h1>Para quem devemos entregar o pedido?</h1>
                <p>Informações da compra</p>
                <div class="container_input" id="container_input_email" onclick="contoller_input('input_email', 'label_email', 'container_input_email')">
                    <label id="label_email" for="email">Email*</label>
                    <input class="input_style" type="email" name="email" id="input_email" placeholder="Email*">
                </div>
                <div class="container_input" id="container_input_nome" onclick="contoller_input('input_nome', 'label_nome', 'container_input_nome')">
                    <label id="label_nome" for="nome">Nome completo*</label>
                    <input class="input_style" type="text" name="nome" id="input_nome" placeholder="Nome completo*">
                </div>
                <div style="margin-right: 10px;" class="container_input" id="container_input_celular" onclick="contoller_input('input_celular', 'label_celular', 'container_input_celular')">
                    <label id="label_celular" for="celular">Celular*</label>
                    <input class="input_style" type="tel" name="celular" id="input_celular" placeholder="Celular*">
                </div>


                <h1>Informações de Entrega</h1>
                <p>Para onde devemos entregar o pedido?</p>

                <div class="container_2inputs">
                    <div style="margin-right: 10px;" class="container_input" id="container_input_cep" onclick="contoller_input('input_cep', 'label_cep', 'container_input_cep')">
                        <label id="label_cep" for="cep">CEP*</label>
                        <input class="input_style" type="number" name="cep" id="input_cep" placeholder="CEP*">
                    </div>
                    <div class="container_input" id="container_input_numeroCasa" onclick="contoller_input('input_numeroCasa', 'label_numeroCasa', 'container_input_numeroCasa')">
                        <label id="label_numeroCasa" for="numeroCasa">Numero*</label>
                        <input class="input_style" type="number" name="numeroCasa" id="input_numeroCasa" placeholder="Numero*">
                    </div>
                </div>
                <p style="margin-top: 10px;">Angra dos Reis/RJ</p>

                <h1>Método de Envio</h1>
                <p>Escolha o seu método de entrega abaixo</p>

                <div style="margin-right: 10px;" class="container_input frete">
                    <span style="display: flex; align-items: center;">
                        <div class="radio" style='border: 6px solid #40b76a;'></div>
                        <p>Frete Grátis</p>
                    </span>
                    <p style="margin-right: 10px;">R$ 0,00</p>
                </div>

                <h1>Seu pagamento será processado pelo Mercado Pago</h1>
                <p>Postaremos seu pedido em até 48horas.</p>

                
                <div style="margin-right: 10px;" class="container_input frete" id="container_boleto" onclick="formaPagamento('boleto'), appear('infos_boleto', 'block')">
                    <span style="display: flex; align-items: center;">
                        <div class="radio" id="boleto"></div>
                        <p><strong>Boleto</strong></p>
                    </span>
                    <p style="margin-right: 10px;" id="descontoBoleto">R$ Preço</p>
                </div>
                
                <div class="container_infosPagamento" id="infos_boleto">
                    <p>Clique em "Finalizar Compra" para gerar o seu boleto.</p>
                    <br>
                    <p>Informações sobre o pagamento via boleto:</p>
                    <ul>
                        <li>Valor à vista</li>
                        <li>Não pode ser parcelado! Use cartão de crédito para parcelar sua compra</li>
                        <li>Prazo de até 3 dias úteis para compensar</li>
                    </ul>
                </div>

                <div style="margin-right: 10px;" class="container_input frete" id="container_pix" onclick="formaPagamento('pix'), appear('infos_pix', 'block')">
                    <span style="display: flex; align-items: center;">
                        <div class="radio" id="pix"></div>
                        <p><strong>Pix</strong></p>
                    </span>
                    <p style="margin-right: 10px;" id="precoPorPix">R$ Preço</p>
                </div>

                <div class="container_infosPagamento" id="infos_pix">
                    <p>Clique em "Finalizar Compra" para gerar o PIX.</p>
                    <br>
                    <p>Informações sobre o pagamento via PIX:</p>
                    <ul>
                        <li>Valor à vista</li>
                        <li>Não pode ser parcelado! Use cartão de crédito para parcelar sua compra</li>
                        <li>Prazo de até 30 minutos para compensar</li>
                    </ul>
                </div>



                <div style="margin-right: 10px;" class="container_input frete" id="container_cartao" onclick="formaPagamento('cartao'), appear('infos_cartao', 'block')">
                    <span style="display: flex; align-items: center;">
                        <div class="radio" id="cartao" ></div>
                        <p><strong>Cartão de crédito</strong></p>
                    </span>
                    <p style="margin-right: 10px;">Carregando...</p>
                </div>

                <div class="container_infosPagamento" id="infos_cartao">
                    <p>Indisponivel no momento! Tente novamente mais tarde.</p>
                </div>

                <div id="btn_finalizar1" onclick="finalizarCompra()">
                    <button class="style_button">
                        <div class="disp-flex">
                            <svg style="width: 14px;" aria-hidden="true" data-prefix="fas" data-icon="lock-alt" class="svg-inline--fa fa-lock-alt fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zM264 392c0 22.1-17.9 40-40 40s-40-17.9-40-40v-48c0-22.1 17.9-40 40-40s40 17.9 40 40v48zm32-168H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"></path></svg>
                            <span>
                                Finalizar compra
                            </span>
                        </div>
                    </button>
                    <p id="mensagemErro">Preencha todas as informações*</p>
                </div>


            </div>



        </div>

        <hr class="hr_footer" id="divisor">

        <div id="container_right">
            <div class="view_item">
                <div class="view_item_top">
                    <img id="caminhoImagem" src="img/imgPadrao.png" alt="">
                    <div class="view_txt_top">
                        <p id="nomeProduto"><strong>MOLETOM GALAXYA NEBULOSA - NIKE</strong></p>
                        <p id="estimativaEntrega">Chegará entre: <strong id="HojeMais5">18</strong> e <strong id="HojeMais10">23 de julho</strong></p>
                                
                        <div id="garantia_txt">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
                                <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"></path>
                            </svg>
                            <p style="margin-left: 5px;">
                                Pagamento seguro
                            </p>
                        </div>
                        <div id="garantia_txt">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bootstrap-reboot" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M1.161 8a6.84 6.84 0 1 0 6.842-6.84.58.58 0 0 1 0-1.16 8 8 0 1 1-6.556 3.412l-.663-.577a.58.58 0 0 1 .227-.997l2.52-.69a.58.58 0 0 1 .728.633l-.332 2.592a.58.58 0 0 1-.956.364l-.643-.56A6.812 6.812 0 0 0 1.16 8zm5.48-.079V5.277h1.57c.881 0 1.416.499 1.416 1.32 0 .84-.504 1.324-1.386 1.324h-1.6zm0 3.75V8.843h1.57l1.498 2.828h1.314L9.377 8.665c.897-.3 1.427-1.106 1.427-2.1 0-1.37-.943-2.246-2.456-2.246H5.5v7.352h1.141z"></path>
                            </svg>
                            <p style="margin-left: 5px;">
                                7 dias para trocas e devoluções
                            </p>
                        </div>


                    </div>
                </div>

                <div class="cupomDesconto">
                    <p>Tem um cupom de desconto?</p>
                    <span>
                        <input type="text" id="cupom_txt" placeholder="Cupom de desconto">
                        <button onclick="descontoCupom('cupom_txt')">APLICAR</button>
                    </span>
                </div>

                <div id="footer_view_item">
                    <hr class="hr_footer">
                    <div class="view_item_buttom">
                        <p style="margin-left: 10px;" >Subtotal</p>
                        <p style="margin-right: 10px;" id="subTotal">R$ ---</p>
                    </div>
                    <div class="view_item_buttom">
                        <p style="margin-left: 10px;" >Frete</p>
                        <p style="margin-right: 10px;">R$ 0,00</p>
                    </div>

                    <div class="view_item_buttom">
                        <p style="margin-left: 10px;" >Cupom de desconto</p>
                        <p style="margin-right: 10px;" id="descontoComCupom">---</p>
                    </div>
                    <div class="view_item_buttom">
                        <p style="margin-left: 10px;" ><strong>Total</strong></p>
                        <p style="margin-right: 10px;" ><strong id="valorTotal">---</strong></p>
                    </div>
                </div>

            </div>
            <div id="btn_finalizar2" onclick="finalizarCompra()">
                <button class="style_button">
                    <div class="disp-flex">
                        <svg style="width: 14px;" aria-hidden="true" data-prefix="fas" data-icon="lock-alt" class="svg-inline--fa fa-lock-alt fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zM264 392c0 22.1-17.9 40-40 40s-40-17.9-40-40v-48c0-22.1 17.9-40 40-40s40 17.9 40 40v48zm32-168H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"></path></svg>
                        <span>
                            Finalizar compra
                        </span>
                    </div>
                </button>
                <p id="mensagemErro2">Preencha todas as informações*</p>
            </div>

        </div>
    </main>

    <footer>
        <hr>
        <div class="bottom-form-content">
            <p>NomeDaloja -<span data-realtime="checkout_button.copyright_text">Todos os direitos reservados</span></p>
        </div>
        <div class="bottom-form-images">
            <img src="https://www.fracassadoyoutuberloja.com/images/icon-ssl.svg" >
            <img src="https://www.fracassadoyoutuberloja.com/images/icon-secure.svg" >
        </div>
    </footer>

    <script>
        let formaDEPagamento = ''
        
        let nomeItem = document.getElementById('nomeProduto')
        nomeItem.innerHTML = localStorage.getItem('nomeItem')

        let precoItem = document.getElementById('subTotal')
        precoItem.innerHTML = localStorage.getItem('precoItem').replace('.', ',')

        let data = new Date()
        let dia = data.getDate()
        let mês = data.getMonth()+1

        if(dia + 5 > 30){
            document.getElementById("HojeMais5").innerHTML = (dia + 5) - 30
        }
        else{
            document.getElementById("HojeMais5").innerHTML = dia + 5
        }

        switch(mês){
            case 1:
                mês = 'janeiro'
                break;
            case 2:
                mês = 'fevereiro'
                break
            case 3:
                mês = 'março'
                break;
            case 4:
                mês = 'abril'
                break
            case 5:
                mês = 'maio'
                break;
            case 6:
                mês = 'junho'
                break
            case 7:
                mês = 'julho'
                break;
            case 8:
                mês = 'agosto'
                break
            case 9:
                mês = 'setembro'
                break;
            case 10:
                mês = 'outubro'
                break
            case 11:
                mês = 'novembro'
                break;
            case 12:
                mês = 'dezembro'
                break

        }

        if(dia + 10 > 30){
            document.getElementById("HojeMais10").innerHTML = (dia + 10) - 30
            document.getElementById("HojeMais10").innerHTML += ' de ' + mês
        }else{
            document.getElementById("HojeMais10").innerHTML = dia + 10
            document.getElementById("HojeMais10").innerHTML += ' de ' + mês
        }

        function setup(){
            
            document.getElementById('precoPorPix').innerHTML  = document.getElementById('subTotal').innerHTML            
            document.getElementById('descontoBoleto').innerHTML  = document.getElementById('subTotal').innerHTML            
            document.getElementById('caminhoImagem').src = localStorage.getItem('img_viewRelacionado')
            

                document.getElementById('valorTotal').innerHTML  = document.getElementById('subTotal').innerHTML + ' BRL'
                document.getElementById('valorTotal').innerHTML  = document.getElementById('valorTotal').innerHTML.replace('.', ',')
            
          
        }
        
        function contoller_input(id_input, id_label, id_container){
            const allContainer = document.querySelectorAll('.container_input')
            console.log(allContainer.length);

            document.getElementById(id_container).style.backgroundColor = 'transparent'

            for (let i = 0; i < allContainer.length; i++) {
                const containers = allContainer[i];
                containers.style.border = '1px solid rgba(0, 0, 0, 0.199)'
            }

            const label = document.getElementById(id_label)
            const input = document.getElementById(id_input)
            const container = document.getElementById(id_container)

            label.style.display = 'block'
            input.style.height = '70%'
            input.placeholder = ' '
            container.style.border = '1px solid red'
        }
        function formaPagamento(pagamento){
            const pix = document.getElementById('pix')
            const boleto = document.getElementById('boleto')
            const cartao = document.getElementById('cartao')
            
            pix.style.border = '2px solid #6D7175'
            boleto.style.border = '2px solid #6D7175'
            cartao.style.border = '2px solid #6D7175'
            document.getElementById('container_pix').style.borderRadius = '10px 10px 10px 10px'
            document.getElementById('container_boleto').style.borderRadius = '10px 10px 10px 10px'
            document.getElementById('container_cartao').style.borderRadius = '10px 10px 10px 10px'
            document.getElementById('container_pix').style.borderBottom = '1px solid rgba(0, 0, 0, 0.199)'
            document.getElementById('container_boleto').style.borderBottom = '1px solid rgba(0, 0, 0, 0.199)'
            document.getElementById('container_cartao').style.borderBottom = '1px solid rgba(0, 0, 0, 0.199)'

            document.getElementById(pagamento).style.border = '6px solid #40b76a'
            document.getElementById('container_'+pagamento).style.borderRadius = '10px 10px 0px 0px'
            document.getElementById('container_'+pagamento).style.borderBottom = 'none'

            console.log(pagamento);
            formaDEPagamento = pagamento


            if(formaDEPagamento == 'cartao'){
                document.getElementById('mensagemErro').style.display = 'block'
                document.getElementById('mensagemErro2').style.display = 'block'
                document.getElementById('mensagemErro').innerHTML = 'Selecione outra forma de pagamento*'
                document.getElementById('mensagemErro2').innerHTML = 'Selecione outra forma de pagamento*'
            }else{
                document.getElementById('mensagemErro').style.display = 'none'
                document.getElementById('mensagemErro2').style.display = 'none'

            }
            setup()
        }
        function appear(id_obj, displayType) {
            document.getElementById('infos_pix').style.display = 'none'
            document.getElementById('infos_boleto').style.display = 'none'
            document.getElementById('infos_cartao').style.display = 'none'

            if(document.getElementById(id_obj).style.display == 'block' || document.getElementById(id_obj).style.display == 'flex'){
                document.getElementById(id_obj).style.display = 'none'
            }else{
                document.getElementById(id_obj).style.display = displayType
            }
        }
        
        function finalizarCompra(){

            let inputs = document.querySelectorAll('.container_input')

            if(formaDEPagamento == ''){
                document.getElementById('mensagemErro').style.display = 'block'
                document.getElementById('mensagemErro2').style.display = 'block'
                document.getElementById('mensagemErro').innerHTML = 'Selecione uma forma de pagamento*'
                document.getElementById('mensagemErro2').innerHTML = 'Selecione uma forma de pagamento*'
            }

            for (let i = 0; i < 5; i++) {
                const container_input = inputs[i].id;

                switch (container_input) {

                    case 'container_input_email':
                        if(document.getElementById('input_email').value == ''){
                            document.getElementById('mensagemErro').style.display = 'block'
                            document.getElementById('mensagemErro2').style.display = 'block'
                            document.getElementById('mensagemErro').innerHTML = 'Preencha todas as informações*'
                            document.getElementById('mensagemErro2').innerHTML = 'Preencha todas as informações**'


                            document.getElementById('container_input_email').style.backgroundColor = '#ff00002e'
                        }
                        break;

                    case 'container_input_nome':
                        if(document.getElementById('input_nome').value == ''){
                            document.getElementById('mensagemErro').style.display = 'block'
                            document.getElementById('mensagemErro2').style.display = 'block'
                            document.getElementById('mensagemErro').innerHTML = 'Preencha todas as informações*'
                            document.getElementById('mensagemErro2').innerHTML = 'Preencha todas as informações**'


                            document.getElementById('container_input_nome').style.backgroundColor = '#ff00002e'
                        }
                        break;

                    case 'container_input_celular':
                        if(document.getElementById('input_celular').value == ''){
                            document.getElementById('mensagemErro').style.display = 'block'
                            document.getElementById('mensagemErro2').style.display = 'block'
                            document.getElementById('mensagemErro').innerHTML = 'Preencha todas as informações*'
                            document.getElementById('mensagemErro2').innerHTML = 'Preencha todas as informações**'


                            document.getElementById('container_input_celular').style.backgroundColor = '#ff00002e'
                        }
                        break;

                    case 'container_input_cep':
                        if(document.getElementById('input_cep').value == ''){
                            document.getElementById('mensagemErro').style.display = 'block'
                            document.getElementById('mensagemErro2').style.display = 'block'
                            document.getElementById('mensagemErro').innerHTML = 'Preencha todas as informações*'
                            document.getElementById('mensagemErro2').innerHTML = 'Preencha todas as informações**'


                            document.getElementById('container_input_cep').style.backgroundColor = '#ff00002e'
                        }
                        break;

                    case 'container_input_numeroCasa':
                        if(document.getElementById('input_numeroCasa').value == ''){
                            document.getElementById('mensagemErro').style.display = 'block'
                            document.getElementById('mensagemErro2').style.display = 'block'
                            document.getElementById('mensagemErro').innerHTML = 'Preencha todas as informações*'
                            document.getElementById('mensagemErro2').innerHTML = 'Preencha todas as informações**'


                            document.getElementById('container_input_numeroCasa').style.backgroundColor = '#ff00002e'
                        }
                        break;                
                    }
                
                
            }
        

        }
        function descontoCupom(cupom) {
            if (document.getElementById(cupom).value == 'CUPOM10') {
                //MENOS10
                //preço - sla oq
                document.getElementById('descontoComCupom').innerHTML = '-80%'
            }else{
                document.getElementById('descontoComCupom').innerHTML = '---'
            }
        }
    </script>
</body>
</html>